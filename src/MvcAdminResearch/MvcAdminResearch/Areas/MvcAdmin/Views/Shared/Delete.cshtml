@model Object

@using System.Reflection
@using System.Linq.Expressions
@using MvcAdminResearch.Helpers


@{
    ViewBag.Title = "Delete";

    var myObject = Model;
    Type myType = myObject.GetType();

    DataContextHost host = new DataContextHost(myType, typeof(MvcAdminResearch.Models.NotesappContext));
    var propsEligible = ScaffoldHelpers.GetEligibleProperties(myType, host);
}

<h2>Delete</h2>

<h3>Are you sure you want to delete this?</h3>
<fieldset>
    <legend>@myObject.GetType().Name</legend>
    @foreach (var prop in propsEligible)
    {
        if (!prop.IsPrimaryKey && !prop.IsReadOnly && !prop.IsForeignKey)
        {
        <dl class="dl-horizontal">
            <dt>
                @Html.Label(prop.Name)
            </dt>
            <dd>
                @Html.Display(prop.Name)
            </dd>
        </dl>
        }
        else if (prop.IsForeignKey)
        {
        <dl class="dl-horizontal">
            <dt>
                @Html.Label(prop.Name)
            </dt>
            <dd>
                @Html.Display(prop.Name)
            </dd>
        </dl>
        }
    }
</fieldset>
@using (Html.BeginForm())
{
    <div class="control-group">
        <div class="controls">
            <input type="submit" value="Delete" class="btn btn-danger" />
            &nbsp; @Html.ActionLink("Cancel", "Index", null, new { @class = "btn" })
        </div>
    </div>
}
